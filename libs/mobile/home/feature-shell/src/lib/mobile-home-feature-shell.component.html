<p class="hello">Hello Mi≈Çosz</p>

<!--Alarm-->
<ng-container *ngIf="alarmVm$ | async as alarmVm">
  <ng-container *ngIf="alarmVm.status === 'success' && alarmVm.alarm">
    <smart-home-ui-alarm-card [alarm]="alarmVm.alarm" (changeState)="onChangeAlarmState($event)"/>
  </ng-container>
</ng-container>

<!--Rooms-->
<ng-container *ngIf="roomsVm$ | async as roomsVm">
  <!--  Loading-->
  <ng-container *ngIf="roomsVm.status === 'loading'">
    <smart-home-ui-slider>
      <ion-slide *ngFor="let skeleton of roomCardsSkeleton" style="width: auto">
        <smart-home-ui-skeleton-card
          [factory]="skeleton"
        ></smart-home-ui-skeleton-card>
      </ion-slide>
    </smart-home-ui-slider>
  </ng-container>

  <!--    Success-->
  <ng-container *ngIf="roomsVm.status === 'success'">
    <smart-home-ui-slider>
      <ion-slide *ngFor="let room of roomsVm.rooms" style="width: auto">
        <smart-home-ui-room-card
          [room]="room"
          [routerLink]="['../', roomRoute, room.id]"
          style="width: 15rem"
        />
      </ion-slide>
    </smart-home-ui-slider>
  </ng-container>

  <!--  Error-->
  <ng-container *ngIf="roomsVm.status === 'error'">
    <smart-home-ui-error (reload)="getRooms()">{{
      roomsVm.error
    }}</smart-home-ui-error>
  </ng-container>
</ng-container>

<!--Scenes-->
<ng-container *ngIf="scenesVm$ | async as scenesVm">
  <!--  Loading-->
  <ng-container *ngIf="scenesVm.status === 'loading'">
    <smart-home-ui-slider>
      <ion-slide
        *ngFor="let skeleton of sceneCardsSkeleton"
        style="width: auto"
      >
        <smart-home-ui-skeleton-card [factory]="skeleton" />
      </ion-slide>
    </smart-home-ui-slider>
  </ng-container>

  <!--  Success-->
  <ng-container *ngIf="scenesVm.status === 'success'">
    <smart-home-ui-slider>
      <ion-slide *ngFor="let scene of scenesVm.scenes" style="width: auto">
        <smart-home-ui-scene-card
                (changeState)="onChangeSceneState($event)"
          [routerLink]="['../', sceneRoute, scene.id]"
          [scene]="scene"
          style="width: 20rem"
        />
      </ion-slide>
    </smart-home-ui-slider>
  </ng-container>

  <!--  Error-->
  <ng-container *ngIf="scenesVm.status === 'error'">
    <smart-home-ui-error (reload)="getScenes()">{{
      scenesVm.error
    }}</smart-home-ui-error>
  </ng-container>
</ng-container>


<!--Devices-->
<ng-container *ngIf="deviceVm$ | async as deviceVm">
  <ng-container *ngIf="deviceVm.status === 'success'">
    <smart-home-ui-slider>
      <ion-slide *ngFor="let device of deviceVm.devices" style="width: auto">
        <smart-home-mobile-ui-device-card [device]="device" style="width: 25rem" (select)="onSelectDevice($event)"
                                          (toggleState)="onChangeDeviceState($event, device.id)"/>
      </ion-slide>
    </smart-home-ui-slider>
  </ng-container>
</ng-container>